# Microsoft Entra (Azure AD) / MSAL
AUTH_TENANT_ID=
AUTH_CLIENT_ID=
AUTH_CLIENT_SECRET=

# Must match the Redirect URI configured in Entra app registration
# Local example:
# AUTH_REDIRECT_URI=http://localhost:8000/auth/callback
AUTH_REDIRECT_URI=

# IMPORTANT: MSAL for Python adds reserved OIDC scopes automatically.
# Do NOT set: openid, profile, offline_access
AUTH_SCOPES=email

# Long random string used to sign/encrypt session cookies.
AUTH_SESSION_SECRET=

# Cookie settings (set secure=true in production https)
AUTH_COOKIE_SECURE=false
AUTH_COOKIE_SAMESITE=lax

# Where Entra should send users after logout
AUTH_POST_LOGOUT_REDIRECT_URI=http://localhost:3000/

# CORS: allow your frontend origin(s)
# Local CRA dev example:
# AUTH_CORS_ORIGINS=http://localhost:3000
# AUTH_CORS_ORIGIN_REGEX=^https?://(localhost|127\.0\.0\.1)(:\\d+)?$

# --- Optional: Azure Key Vault ---
# If env/YAML values are missing, the auth server will try Azure Key Vault.
# Secret naming convention: AUTH_CLIENT_ID -> AUTH-CLIENT-ID (underscores become hyphens).
#
# Default vault if unset: eaiwfm-prod-kv
# For local dev: set EAIWFM_KEYVAULT_NAME=eaiwfm-dev-kv
# EAIWFM_KEYVAULT_NAME=
# EAIWFM_KEYVAULT_URL=
# EAIWFM_KEYVAULT_ENABLED=1
